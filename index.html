<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ImageHunt - Professional image search aggregator">
    <meta name="keywords" content="image search, free images, high quality images, stock photos">
    <meta name="theme-color" content="#000000">
    <title>ImageHunt - Professional Image Search</title>
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <!-- Resource hints -->
    <link rel="preconnect" href="https://commons.wikimedia.org" crossorigin>
    <link rel="preconnect" href="https://upload.wikimedia.org" crossorigin>
    <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
    <link rel="dns-prefetch" href="//commons.wikimedia.org">
    <link rel="dns-prefetch" href="//upload.wikimedia.org">
    <link rel="dns-prefetch" href="//images.unsplash.com">
    <link rel="dns-prefetch" href="//www.google.com">
    
    <meta name="api-base" content="">
    <script type="importmap">
      {
        "imports": {
          "@material/web/": "https://esm.run/@material/web/"
        }
      }
    </script>
    <script type="module">
        import '@material/web/all.js';
    </script>
    <script>
        (function(){
            const meta = document.querySelector('meta[name="api-base"]');
            const fromMeta = meta && meta.content ? meta.content.trim() : '';
            const params = new URLSearchParams(location.search);
            const fromParam = params.get('api') || '';
            const fromStore = localStorage.getItem('api_base') || '';
            const chosen = fromParam || fromMeta || fromStore;
            if (fromParam) { try { localStorage.setItem('api_base', fromParam); } catch(_){} }
            if (chosen) { window.__API_BASE__ = chosen; }
        })();
    </script>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="material-symbols-outlined">image_search</span>
                    <h1>ImageHunt</h1>
                </div>
                <div class="search-container">
                    <div class="search-box">
                        <span class="material-symbols-outlined search-icon">search</span>
                        <input type="text" id="search-input" placeholder="Search high-quality images..." autocomplete="off" autofocus>
                        <button class="clear-btn hidden" id="clear-btn">
                            <span class="material-symbols-outlined">close</span>
                        </button>
                    </div>
                    <div class="search-suggestions hidden" id="search-suggestions"></div>
                </div>
                <div class="header-actions">
                    <button class="view-toggle" id="view-toggle" title="Switch between Grid and Masonry view" aria-label="Toggle view">
                        <span class="material-symbols-outlined">grid_view</span>
                        <span class="button-label">View</span>
                    </button>
                    <button class="filter-toggle" id="filter-toggle" title="Show/hide filters and categories" aria-label="Toggle filters">
                        <span class="material-symbols-outlined">tune</span>
                        <span class="button-label">Filters</span>
                    </button>
                </div>
            </div>
            <div class="filters-panel hidden" id="filters-panel">
                <div class="filter-section-header">
                    <h3>Filters</h3>
                    <p class="filter-description">Refine your search results</p>
                </div>
                <div class="filter-group">
                    <label class="filter-label">
                        <span class="material-symbols-outlined">source</span>
                        Image Sources
                    </label>
                    <div class="source-filters" id="sourceFilters">
                        <button class="source-chip active" data-source="all">
                            <span class="material-symbols-outlined">select_all</span>
                            All Sources
                        </button>
                        <button class="source-chip active" data-source="google">
                            <img src="https://www.google.com/favicon.ico" alt="Google" class="source-icon">
                            Google
                        </button>
                        <button class="source-chip active" data-source="bing">
                            <img src="https://www.bing.com/favicon.ico" alt="Bing" class="source-icon">
                            Bing
                        </button>
                        <button class="source-chip active" data-source="reddit">
                            <img src="https://www.reddit.com/favicon.ico" alt="Reddit" class="source-icon">
                            Reddit
                        </button>
                        <button class="source-chip active" data-source="pinterest">
                            <img src="https://s.pinimg.com/webapp/favicon-7e3e6994.png" alt="Pinterest" class="source-icon">
                            Pinterest
                        </button>
                        <button class="source-chip active" data-source="instagram">
                            <img src="https://www.instagram.com/static/images/ico/favicon.ico/36b3ee2d91ed.ico" alt="Instagram" class="source-icon">
                            Instagram
                        </button>
                        <button class="source-chip active" data-source="facebook">
                            <img src="https://static.xx.fbcdn.net/rsrc.php/yb/r/hLRJ1GG_y0J.ico" alt="Facebook" class="source-icon">
                            Facebook
                        </button>
                        <button class="source-chip active" data-source="unsplash">
                            <img src="https://unsplash.com/favicon.ico" alt="Unsplash" class="source-icon">
                            Unsplash
                        </button>
                        <button class="source-chip active" data-source="pixabay">
                            <img src="https://pixabay.com/favicon.ico" alt="Pixabay" class="source-icon">
                            Pixabay
                        </button>
                        <button class="source-chip active" data-source="pexels">
                            <img src="https://www.pexels.com/assets/static/images/meta/pexels-icon.png" alt="Pexels" class="source-icon">
                            Pexels
                        </button>
                        <button class="source-chip active" data-source="flickr">
                            <img src="https://www.flickr.com/favicon.ico" alt="Flickr" class="source-icon">
                            Flickr
                        </button>
                        <button class="source-chip active" data-source="wikimedia">
                            <img src="https://commons.wikimedia.org/static/favicon/commons.ico" alt="Wikimedia" class="source-icon">
                            Wikimedia
                        </button>
                        <button class="source-chip active" data-source="openverse">
                            <img src="https://openverse.org/favicon.ico" alt="Openverse" class="source-icon">
                            Openverse
                        </button>
                    </div>
                </div>
                <div class="filter-group">
                    <label class="filter-label">
                        <span class="material-symbols-outlined">category</span>
                        Categories
                    </label>
                    <div class="category-chips" id="categoryFilters"></div>
                </div>
                <div class="filter-group">
                    <label class="filter-label">
                        <span class="material-symbols-outlined">trending_up</span>
                        Trending Searches
                    </label>
                    <div class="trending-searches" id="trendingSearches"></div>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div id="results" class="results-grid grid-view"></div>
            <div id="skeleton-loader" class="results-grid grid-view skeleton-grid hidden">
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
                <div class="skeleton-card"></div>
            </div>
            <div id="loading" class="loading-indicator hidden">
                <div class="spinner"></div>
                <p>Searching...</p>
            </div>
        </main>
    </div>

    </div>

    <!-- Modal -->
    <div id="imageModal" class="modal">
        <div class="modal-overlay"></div>
        <div class="modal-container">
            <button class="modal-close" id="closeModalBtn">
                <span class="material-symbols-outlined">close</span>
            </button>
            <button class="modal-nav modal-prev" id="modalPrev">
                <span class="material-symbols-outlined">chevron_left</span>
            </button>
            <button class="modal-nav modal-next" id="modalNext">
                <span class="material-symbols-outlined">chevron_right</span>
            </button>
            <div class="modal-content">
                <div class="modal-image-wrapper">
                    <img id="modalImage" src="" alt="">
                </div>
                <div class="modal-info">
                    <div class="modal-header">
                        <h2 id="modalImageTitle"></h2>
                        <div class="modal-meta">
                            <span class="modal-resolution" id="modalImageResolution"></span>
                            <span class="modal-source" id="modalImageSource"></span>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button class="action-btn" id="modalDownloadBtn">
                            <span class="material-symbols-outlined">download</span>
                            Download
                        </button>
                        <button class="action-btn secondary" id="modalShareBtn">
                            <span class="material-symbols-outlined">share</span>
                            Share
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>